# 缓存方案

> 缓存必要性：加快数据查询和使用



|缓存方式|数据使用频率|数据修改频率|
|---|---|---|
|堆|使用超量大|修改不频繁
|redis 缓存|使用量大|修改频繁程度一般
|ES|查询量大|修改频繁程度一般
|不缓存|使用量小|修改频繁

--- 
## 堆
> 系统控制常用
- 初始化：系统启动 初始化
- 过期：超时不自动过期
- 修改：消息通知更新
- 存储形式：HashMap

---
## redis 缓存
> 业务控制常用
- 初始化：系统启动 不初始化， 使用第一次，初始化
- 过期：超时自动过期：30 分钟
- 修改：删除缓存
- 存储形式：HashMap

---
## ES
> 业务模糊查询常用 
- 初始化：数据新增 初始化
- 过期：按业务条件主动删除
- 修改：更新缓存
- 存储形式：HASH

---
## 不使用缓存：
实时查询 db 即可